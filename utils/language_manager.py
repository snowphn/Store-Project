# -*- coding: utf-8 -*-
"""
è¯­è¨€ç®¡ç†å™¨
ç”¨äºå¤„ç†åº”ç”¨ç¨‹åºçš„ä¸­è‹±æ–‡åˆ‡æ¢åŠŸèƒ½
"""

class LanguageManager:
    def __init__(self):
        self.current_language = 'zh'  # é»˜è®¤ä¸­æ–‡
        self.translations = {
            'zh': {
                # ä¸»çª—å£
                'app_title': 'Hurricane Community Store',
                'login': 'ç™»å½•',
                'register': 'æ³¨å†Œ',
                'home': 'å•†åŸ',
                'cart': 'è´­ç‰©è½¦',
                'profile': 'ä¸ªäººä¸­å¿ƒ',
                'admin': 'ç®¡ç†å‘˜',
                'csgo_server': 'CSGOæœåŠ¡å™¨',
                'logout': 'é€€å‡ºç™»å½•',
                'language': 'è¯­è¨€',
                'switch_to_english': 'åˆ‡æ¢åˆ°è‹±æ–‡',
                'switch_to_chinese': 'åˆ‡æ¢åˆ°ä¸­æ–‡',
                
                # ç™»å½•é¡µé¢
                'welcome_to': 'æ¬¢è¿æ¥åˆ°',
                'username': 'ç”¨æˆ·å',
                'password': 'å¯†ç ',
                'login_button': 'ç™»å½•',
                'register_button': 'æ³¨å†Œ',
                'back_to_login': 'è¿”å›ç™»å½•',
                'forgot_password': 'å¿˜è®°å¯†ç ',
                'remember_me': 'è®°ä½æˆ‘',
                
                # æ³¨å†Œé¡µé¢
                'confirm_password': 'ç¡®è®¤å¯†ç ',
                'email': 'é‚®ç®±',
                'register_title': 'æ³¨å†Œ',
                'confirm_register': 'ç¡®è®¤æ³¨å†Œ',
                'steam_bind': 'Steamç»‘å®š',
                'bind_steam': 'ç»‘å®šSteam',
                'enter_captcha': 'è¯·è¾“å…¥å›¾ç‰‡ä¸­çš„éªŒè¯ç ',
                'captcha_success': 'âœ“ éªŒè¯æˆåŠŸ',
                'captcha_error': 'âŒ éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥',
                'enter_4_digits': 'è¯·è¾“å…¥4ä½æ•°å­—',
                
                # å•†åŸé¡µé¢
                'shop_title': 'å•†åŸ',
                'product_name': 'å•†å“åç§°',
                'price': 'ä»·æ ¼',
                'description': 'æè¿°',
                'add_to_cart': 'åŠ å…¥è´­ç‰©è½¦',
                'buy_now': 'ç«‹å³è´­ä¹°',
                'search': 'æœç´¢',
                'category': 'åˆ†ç±»',
                'all_categories': 'å…¨éƒ¨åˆ†ç±»',
                
                # è´­ç‰©è½¦é¡µé¢
                'cart_title': 'è´­ç‰©è½¦',
                'quantity': 'æ•°é‡',
                'total': 'æ€»è®¡',
                'checkout': 'ç»“ç®—',
                'remove': 'ç§»é™¤',
                'clear_cart': 'æ¸…ç©ºè´­ç‰©è½¦',
                'empty_cart': 'è´­ç‰©è½¦ä¸ºç©º',
                
                # ä¸ªäººä¸­å¿ƒé¡µé¢
                'profile_title': 'ä¸ªäººä¸­å¿ƒ',
                'personal_center': 'ğŸ‘¤ ä¸ªäººä¸­å¿ƒ',
                'user_info': 'ğŸ“‹ ç”¨æˆ·ä¿¡æ¯',
                'steam_account_binding': 'ğŸ® Steam è´¦æˆ·ç»‘å®š',
                'enter_steam_id': 'è¯·è¾“å…¥æ‚¨çš„ Steam ID',
                'bind_steam': 'ğŸ”— ç»‘å®šSteam',
                'points_recharge': 'ğŸ’° ç§¯åˆ†å……å€¼',
                'current_exchange_rate': 'â­ å½“å‰å…‘æ¢æ¯”ä¾‹: 1å…ƒ = {exchange_rate}ç§¯åˆ†',
                'recharge_amount': 'ğŸ’³ å……å€¼é‡‘é¢:',
                'enter_amount_yuan': 'è¯·è¾“å…¥å……å€¼é‡‘é¢ï¼ˆå…ƒï¼‰',
                'will_get_points': 'å°†è·å¾—ç§¯åˆ†: {points}',
                'will_get_points_0': 'å°†è·å¾—ç§¯åˆ†: 0',
                'payment_method': 'ğŸ’° æ”¯ä»˜æ–¹å¼:',
                'recharge_now': 'ğŸš€ ç«‹å³å……å€¼',
                'transaction_records': 'ğŸ“Š äº¤æ˜“è®°å½•',
                'time': 'æ—¶é—´',
                'type': 'ç±»å‹',
                'amount': 'é‡‘é¢',
                'description': 'æè¿°',
                'username_label': 'ç”¨æˆ·å',
                'account_type': 'è´¦æˆ·ç±»å‹',
                'display_name': 'æ˜¾ç¤ºåç§°',
                'email': 'é‚®ç®±',
                'points_balance': 'ç§¯åˆ†ä½™é¢',
                'steam_account': 'Steamè´¦å·',
                'not_bound_steam': 'æœªç»‘å®šSteamè´¦å·',
                'please_login_first': 'è¯·å…ˆç™»å½•',
                'please_enter_steam_id': 'è¯·è¾“å…¥Steam ID',
                'steam_bind_success': 'Steamè´¦å·ç»‘å®šæˆåŠŸ',
                'bind_failed': 'ç»‘å®šå¤±è´¥',
                'amount_must_greater_zero': 'å……å€¼é‡‘é¢å¿…é¡»å¤§äº0',
                'max_recharge_limit': 'å•æ¬¡å……å€¼é‡‘é¢ä¸èƒ½è¶…è¿‡10000å…ƒ',
                'recharge_confirmation': 'å……å€¼ä¿¡æ¯ç¡®è®¤',
                'payment_amount': 'å……å€¼é‡‘é¢',
                'get_points': 'è·å¾—ç§¯åˆ†',
                'confirm_recharge_question': 'ç¡®è®¤å……å€¼ï¼Ÿ',
                'confirm_recharge': 'ç¡®è®¤å……å€¼',
                'recharge_success': 'å……å€¼æˆåŠŸ',
                'payment_order_id': 'æ”¯ä»˜è®¢å•å·',
                'recharge_failed': 'å……å€¼å¤±è´¥',
                'input_error': 'è¾“å…¥é”™è¯¯',
                'system_error': 'ç³»ç»Ÿé”™è¯¯',
                'creating_payment_order': 'æ­£åœ¨åˆ›å»ºæ”¯ä»˜è®¢å•...',
                'create_order_failed': 'åˆ›å»ºæ”¯ä»˜è®¢å•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥',
                'order_created_complete_payment': 'æ”¯ä»˜è®¢å•åˆ›å»ºæˆåŠŸï¼Œè¯·å®Œæˆæ”¯ä»˜...',
                'user_cancelled_payment': 'ç”¨æˆ·å–æ¶ˆæ”¯ä»˜',
                'waiting_payment_complete': 'ç­‰å¾…æ”¯ä»˜å®Œæˆ...',
                'payment_success': 'æ”¯ä»˜æˆåŠŸ',
                'payment_failed': 'æ”¯ä»˜å¤±è´¥',
                'payment_timeout': 'æ”¯ä»˜è¶…æ—¶ï¼Œè¯·ç¨åæŸ¥çœ‹æ”¯ä»˜ç»“æœæˆ–è”ç³»å®¢æœ',
                'payment_exception': 'æ”¯ä»˜å¤„ç†å¼‚å¸¸',
                'scan_payment': 'æ‰«ç æ”¯ä»˜',
                'scan_qr_to_pay': 'è¯·ä½¿ç”¨æ‰‹æœºæ‰«æä¸‹æ–¹äºŒç»´ç å®Œæˆæ”¯ä»˜',
                'qr_generation_failed': 'äºŒç»´ç ç”Ÿæˆå¤±è´¥',
                'payment_auto_detect': 'æ”¯ä»˜å®Œæˆåï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æ£€æµ‹æ”¯ä»˜çŠ¶æ€',
                'cancel_payment': 'å–æ¶ˆæ”¯ä»˜',
                'payment_completed': 'å·²å®Œæˆæ”¯ä»˜',
                'qr_dialog_exception': 'æ˜¾ç¤ºäºŒç»´ç å¯¹è¯æ¡†å¼‚å¸¸',
                'points': 'ç§¯åˆ†',
                'recharge': 'å……å€¼',
                'transaction_history': 'äº¤æ˜“è®°å½•',
                'steam_account': 'Steamè´¦æˆ·',
                'bind_steam_account': 'ç»‘å®šSteamè´¦æˆ·',
                'steam_id': 'Steam ID',
                'exchange_rate': 'å…‘æ¢æ¯”ä¾‹',
                'test_user': 'æµ‹è¯•ç”¨æˆ·',
                
                # å•†åŸé¡µé¢é¢å¤–ç¿»è¯‘
                'no_image': 'æš‚æ— å›¾ç‰‡',
                'stock': 'åº“å­˜',
                'buy': 'è´­ä¹°',
                'return_to_shop': 'ğŸ  è¿”å›å•†åŸ',
                'no_products': 'æš‚æ— å•†å“',
                'points_unit': 'ç§¯åˆ†',
                'stock_unit': 'åº“å­˜',
                'unit_price': 'å•ä»·',
                'subtotal': 'å°è®¡',
                'remove_from_cart': 'åˆ é™¤',
                'confirm_delete': 'ç¡®è®¤åˆ é™¤',
                'confirm_remove_item': 'ç¡®å®šè¦ä»è´­ç‰©è½¦ä¸­ç§»é™¤æ­¤å•†å“å—ï¼Ÿ',
                'cart_empty': 'è´­ç‰©è½¦ä¸ºç©º',
                'insufficient_points': 'ç§¯åˆ†ä¸è¶³',
                'insufficient_points_msg': 'æ‚¨çš„ç§¯åˆ†ä¸è¶³ï¼Œéœ€è¦ {total_points} ç§¯åˆ†',
                'confirm_checkout': 'ç¡®è®¤ç»“ç®—',
                'confirm_checkout_msg': 'ç¡®å®šè¦èŠ±è´¹ {total_points} ç§¯åˆ†è´­ä¹°è¿™äº›å•†å“å—ï¼Ÿ',
                'order_success': 'è®¢å•åˆ›å»ºæˆåŠŸï¼',
                'order_failed': 'åˆ›å»ºè®¢å•å¤±è´¥',
                'update_quantity_failed': 'æ›´æ–°æ•°é‡å¤±è´¥',
                'remove_item_failed': 'ç§»é™¤å•†å“å¤±è´¥',
                'please_login_to_shop': 'è¯·å…ˆç™»å½•',
                'insufficient_stock': 'å•†å“åº“å­˜ä¸è¶³',
                'add_to_cart_success': 'å•†å“å·²åŠ å…¥è´­ç‰©è½¦',
                'add_to_cart_failed': 'åŠ å…¥è´­ç‰©è½¦å¤±è´¥',
                
                # æ³¨å†Œé¡µé¢é¢å¤–ç¿»è¯‘
                'image_captcha': 'å›¾ç‰‡éªŒè¯ç ',
                'enter_captcha': 'è¯·è¾“å…¥å›¾ç‰‡ä¸­çš„4ä½æ•°å­—',
                'refresh_captcha': 'åˆ·æ–°éªŒè¯ç ',
                'enter_image_captcha': 'è¯·è¾“å…¥å›¾ç‰‡ä¸­çš„éªŒè¯ç ',
                'captcha_success': 'âœ“ éªŒè¯æˆåŠŸ',
                'captcha_error': 'âŒ éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥',
                'enter_4_digits': 'è¯·è¾“å…¥4ä½æ•°å­—',
                'bind_steam_account_checkbox': 'ç»‘å®šSteamè´¦å·',
                'steam_login_button': 'ä½¿ç”¨Steamè´¦å·ç™»å½•',
                'steam_login_browser': 'è¯·åœ¨æµè§ˆå™¨ä¸­å®ŒæˆSteamç™»å½•æˆæƒ',
                'steam_login_failed': 'Steamç™»å½•å¤±è´¥',
                'steam_bind_success_msg': 'Steamè´¦å·ç»‘å®šæˆåŠŸ',
                'email_format_error': 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®',
                'email_validation_success': 'é‚®ç®±éªŒè¯é€šè¿‡',
                'fill_required_fields': 'è¯·å¡«å†™æ‰€æœ‰å¿…å¡«å­—æ®µ',
                'password_min_length': 'å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½',
                'complete_captcha': 'è¯·å®Œæˆå›¾ç‰‡éªŒè¯ç éªŒè¯',
                'invalid_invite_code': 'é‚€è¯·ç æ— æ•ˆæˆ–å·²è¢«ä½¿ç”¨',
                'registration_success': 'æ³¨å†ŒæˆåŠŸï¼',
                'registration_failed': 'æ³¨å†Œå¤±è´¥',
                
                # ç™»å½•é¡µé¢é¢å¤–ç¿»è¯‘
                'welcome_to': 'æ¬¢è¿æ¥åˆ°',
                'your_exclusive_game_store': 'æ‚¨çš„ä¸“å±æ¸¸æˆå•†åŸ',
                'enter_username_password': 'è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ',
                'username_password_error': 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯',
                'no_account_yet': 'è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿ',
                'register_now': 'ç«‹å³æ³¨å†Œ',
                'prompt': 'æç¤º',
                
                # ä¸»çª—å£é¢å¤–ç¿»è¯‘
                'account_banned': 'è´¦æˆ·è¢«å°ç¦',
                'account_banned_msg': 'æ‚¨çš„è´¦æˆ·å·²è¢«å°ç¦ï¼Œæœ‰é—®é¢˜è¯·è”ç³»ç®¡ç†å‘˜ã€‚',
                'farewell': 'ç¦»åˆ«',
                'confirm_exit': 'ä½ ç¡®å®šè¦ç¦»å¼€æˆ‘å—?å®å®',
                'confirm_button': 'ç¡®å®š',
                'cancel_button': 'å–æ¶ˆ',
                
                # æ’ä»¶ç®¡ç†é¡µé¢
                'plugin_management': 'æ’ä»¶ç®¡ç†',
                'install_plugin': 'å®‰è£…æ’ä»¶',
                'plugin_name': 'æ’ä»¶åç§°',
                'version': 'ç‰ˆæœ¬',
                'select_plugin_file': 'é€‰æ‹©æ’ä»¶æ–‡ä»¶',
                'plugin_install_success': 'æ’ä»¶å®‰è£…æˆåŠŸ',
                'plugin_install_failed': 'æ’ä»¶å®‰è£…å¤±è´¥',
                
                # ç®¡ç†å‘˜é¡µé¢
                'admin_title': 'ç®¡ç†å‘˜é¢æ¿',
                'product_management': 'å•†å“ç®¡ç†',
                'user_management': 'ç”¨æˆ·ç®¡ç†',
                'order_management': 'è®¢å•ç®¡ç†',
                'system_settings': 'ç³»ç»Ÿè®¾ç½®',
                'add_product': 'æ·»åŠ å•†å“',
                'edit_product': 'ç¼–è¾‘å•†å“',
                'delete_product': 'åˆ é™¤å•†å“',
                'product_name': 'å•†å“åç§°',
                'product_price': 'å•†å“ä»·æ ¼',
                'product_description': 'å•†å“æè¿°',
                'product_stock': 'å•†å“åº“å­˜',
                'add_admin': 'æ·»åŠ ç®¡ç†å‘˜',
                'user_type': 'ç”¨æˆ·ç±»å‹',
                'status': 'çŠ¶æ€',
                'actions': 'æ“ä½œ',
                'back_to_shop': 'è¿”å›å•†åŸ',
                
                # CSGOæœåŠ¡å™¨é¡µé¢
                'csgo_title': 'CSGOæœåŠ¡å™¨æŸ¥è¯¢',
                'server_name': 'æœåŠ¡å™¨åç§°',
                'server_ip': 'æœåŠ¡å™¨IP',
                'players': 'ç©å®¶æ•°',
                'map': 'åœ°å›¾',
                'ping': 'å»¶è¿Ÿ',
                'refresh': 'åˆ·æ–°',
                'connect': 'è¿æ¥',
                
                # é€šç”¨æŒ‰é’®å’Œæ¶ˆæ¯
                'save': 'ä¿å­˜',
                'cancel': 'å–æ¶ˆ',
                'confirm': 'ç¡®è®¤',
                'delete': 'åˆ é™¤',
                'edit': 'ç¼–è¾‘',
                'add': 'æ·»åŠ ',
                'back': 'è¿”å›',
                'next': 'ä¸‹ä¸€æ­¥',
                'previous': 'ä¸Šä¸€æ­¥',
                'close': 'å…³é—­',
                'ok': 'ç¡®å®š',
                'yes': 'æ˜¯',
                'no': 'å¦',
                
                # æ¶ˆæ¯æç¤º
                'success': 'æˆåŠŸ',
                'error': 'é”™è¯¯',
                'warning': 'è­¦å‘Š',
                'info': 'ä¿¡æ¯',
                'login_success': 'ç™»å½•æˆåŠŸ',
                'login_failed': 'ç™»å½•å¤±è´¥',
                'register_success': 'æ³¨å†ŒæˆåŠŸ',
                'register_failed': 'æ³¨å†Œå¤±è´¥',
                'operation_success': 'æ“ä½œæˆåŠŸ',
                'operation_failed': 'æ“ä½œå¤±è´¥',
                'please_login': 'è¯·å…ˆç™»å½•',
                'no_permission': 'æ— æƒé™è®¿é—®',
                'invalid_input': 'è¾“å…¥æ— æ•ˆ',
                'network_error': 'ç½‘ç»œé”™è¯¯',
                'server_error': 'æœåŠ¡å™¨é”™è¯¯',
            },
            'en': {
                # Main Window
                'app_title': 'Hurricane Community Store',
                'login': 'Login',
                'register': 'Register',
                'home': 'Shop',
                'cart': 'Cart',
                'unit_price': 'Unit Price',
                'subtotal': 'Subtotal',
                'quantity': 'Quantity',
                'remove': 'Remove',
                'update_quantity_failed': 'Failed to update quantity',
                'confirm_remove_item': 'Are you sure you want to remove this item from cart?',
                'remove_item_failed': 'Failed to remove item',
                'please_login_first': 'Please login first',
                'cart_empty': 'Cart is empty',
                'insufficient_points': 'Insufficient Points',
                'insufficient_points_message': 'Your points are insufficient, need',
                'confirm_checkout': 'Confirm Checkout',
                'confirm_spend': 'Are you sure you want to spend',
                'buy_items': ' to buy these items',
                'order_created_success': 'Order created successfully!',
                'create_order_failed': 'Failed to create order',
                'profile': 'Profile',
                'admin': 'Admin',
                'csgo_server': 'CSGO Server',
                'logout': 'Logout',
                'language': 'Language',
                'switch_to_english': 'Switch to English',
                'switch_to_chinese': 'Switch to Chinese',
                
                # Login Page
                'username': 'Username',
                'password': 'Password',
                'login_button': 'Login',
                'register_button': 'Register',
                'back_to_login': 'Back to Login',
                'forgot_password': 'Forgot Password',
                'remember_me': 'Remember Me',
                
                # Register Page
                'confirm_password': 'Confirm Password',
                'email': 'Email',
                'register_title': 'User Registration',
                'confirm_register': 'Confirm Registration',
                'steam_bind': 'Steam Binding',
                'bind_steam': 'Bind Steam',
                
                # Shop Page
                'shop_title': 'Shop',
                'product_name': 'Product Name',
                'price': 'Price',
                'description': 'Description',
                'add_to_cart': 'Add to Cart',
                'buy_now': 'Buy Now',
                'search': 'Search',
                'category': 'Category',
                'all_categories': 'All Categories',
                
                # Cart Page
                'cart_title': 'Shopping Cart',
                'quantity': 'Quantity',
                'total': 'Total',
                'checkout': 'Checkout',
                'remove': 'Remove',
                'clear_cart': 'Clear Cart',
                'empty_cart': 'Cart is Empty',
                
                # Profile Page
                'profile_title': 'User Profile',
                'personal_center': 'ğŸ‘¤ Personal Center',
                'user_info': 'ğŸ“‹ User Information',
                'steam_account_binding': 'ğŸ® Steam Account Binding',
                'enter_steam_id': 'Please enter your Steam ID',
                'bind_steam': 'ğŸ”— Bind Steam',
                'points_recharge': 'ğŸ’° Points Recharge',
                'current_exchange_rate': 'â­ Current Exchange Rate: 1 Yuan = {exchange_rate} Points',
                'recharge_amount': 'ğŸ’³ Recharge Amount:',
                'enter_amount_yuan': 'Please enter recharge amount (Yuan)',
                'will_get_points': 'Will get points: {points}',
                'will_get_points_0': 'Will get points: 0',
                'payment_method': 'ğŸ’° Payment Method:',
                'recharge_now': 'ğŸš€ Recharge Now',
                'transaction_records': 'ğŸ“Š Transaction Records',
                'time': 'Time',
                'type': 'Type',
                'amount': 'Amount',
                'description': 'Description',
                'username_label': 'Username',
                'account_type': 'Account Type',
                'display_name': 'Display Name',
                'email': 'Email',
                'points_balance': 'Points Balance',
                'steam_account': 'Steam Account',
                'not_bound_steam': 'Steam account not bound',
                'please_login_first': 'Please login first',
                'please_enter_steam_id': 'Please enter Steam ID',
                'steam_bind_success': 'Steam account bound successfully',
                'bind_failed': 'Binding failed',
                'amount_must_greater_zero': 'Recharge amount must be greater than 0',
                'max_recharge_limit': 'Single recharge amount cannot exceed 10000 Yuan',
                'recharge_confirmation': 'Recharge Information Confirmation',
                'payment_amount': 'Payment Amount',
                'get_points': 'Get Points',
                'confirm_recharge_question': 'Confirm recharge?',
                'confirm_recharge': 'Confirm Recharge',
                'recharge_success': 'Recharge successful',
                'back_to_shop': 'Back to Shop',
                'change_avatar': 'Change Avatar',
                'new_username': 'New Username',
                'new_email': 'New Email',
                'new_password': 'New Password',
                'save_changes': 'Save Changes',
                'points_records': 'Points Records',
                'no_avatar': 'No Avatar',
                'select_avatar': 'Select Avatar',
                'image_files': 'Image Files (*.png *.jpg *.jpeg *.bmp *.gif)',
                'cannot_load_image': 'Cannot load image',
                'avatar_update_success': 'Avatar updated successfully',
                'save_avatar_failed': 'Failed to save avatar',
                'update_avatar_failed': 'Failed to update avatar',
                'steam_account': 'Steam Account',
                'unbind_steam': 'Unbind Steam',
                'callback_server_failed': 'Failed to start callback server',
                'complete_steam_auth': 'Please complete Steam login authorization in browser',
                'steam_bind_failed': 'Failed to start Steam binding',
                'confirm_unbind': 'Confirm Unbind',
                'confirm_unbind_steam': 'Are you sure you want to unbind Steam account?',
                'steam_unbound': 'Steam account unbound',
                'unbind_failed': 'Unbind failed',
                'steam_login_verify_failed': 'Steam login verification failed',
                'steam_bind_success': 'Steam account bound successfully',
                'handle_steam_callback_failed': 'Failed to handle Steam callback',
                'user_not_exist': 'User does not exist',
                'no_changes_to_save': 'No changes to save',
                'invalid_email_format': 'Invalid email format',
                'profile_update_success': 'Profile updated successfully',
                'save_failed': 'Save failed',
                'no_image': 'No Image',
                'stock': 'Stock',
                'buy': 'Buy',
                'cart': 'Cart',
                'payment_order_id': 'Payment Order ID',
                'recharge_failed': 'Recharge failed',
                'input_error': 'Input error',
                'system_error': 'System error',
                'creating_payment_order': 'Creating payment order...',
                'create_order_failed': 'Failed to create payment order, please check network connection',
                'order_created_complete_payment': 'Payment order created successfully, please complete payment...',
                'user_cancelled_payment': 'User cancelled payment',
                'waiting_payment_complete': 'Waiting for payment completion...',
                'payment_success': 'Payment successful',
                'payment_failed': 'Payment failed',
                'payment_timeout': 'Payment timeout, please check payment result later or contact customer service',
                'payment_exception': 'Payment processing exception',
                'scan_payment': 'Scan Payment',
                'scan_qr_to_pay': 'Please use your phone to scan the QR code below to complete payment',
                'qr_generation_failed': 'QR code generation failed',
                'payment_auto_detect': 'After payment completion, the system will automatically detect payment status',
                'cancel_payment': 'Cancel Payment',
                'payment_completed': 'Payment Completed',
                'qr_dialog_exception': 'QR code dialog exception',
                'points': 'Points',
                'recharge': 'Recharge',
                'transaction_history': 'Transaction History',
                'steam_account': 'Steam Account',
                'bind_steam_account': 'Bind Steam Account',
                'steam_id': 'Steam ID',
                'exchange_rate': 'Exchange Rate',
                
                # Shop Page Additional Translations
                'no_image': 'No Image',
                'stock': 'Stock',
                'buy': 'Buy',
                'return_to_shop': 'ğŸ  Return to Shop',
                'no_products': 'No Products',
                'points_unit': 'Points',
                'stock_unit': 'Stock',
                'unit_price': 'Unit Price',
                'subtotal': 'Subtotal',
                'remove_from_cart': 'Remove',
                'confirm_delete': 'Confirm Delete',
                'confirm_remove_item': 'Are you sure you want to remove this item from cart?',
                'cart_empty': 'Cart is Empty',
                'insufficient_points': 'Insufficient Points',
                'insufficient_points_msg': 'Your points are insufficient, need {total_points} points',
                'confirm_checkout': 'Confirm Checkout',
                'confirm_checkout_msg': 'Are you sure you want to spend {total_points} points to buy these items?',
                'order_success': 'Order created successfully!',
                'order_failed': 'Failed to create order',
                'update_quantity_failed': 'Failed to update quantity',
                'remove_item_failed': 'Failed to remove item',
                'please_login_to_shop': 'Please login first',
                'insufficient_stock': 'Insufficient stock',
                'add_to_cart_success': 'Item added to cart',
                'add_to_cart_failed': 'Failed to add to cart',
                
                # Register Page Additional Translations
                'image_captcha': 'Image Captcha',
                'enter_captcha': 'Please enter the 4 digits in the image',
                'refresh_captcha': 'Refresh Captcha',
                'enter_image_captcha': 'Please enter the captcha in the image',
                'captcha_success': 'âœ“ Verification successful',
                'captcha_error': 'âŒ Captcha error, please re-enter',
                'enter_4_digits': 'Please enter 4 digits',
                'bind_steam_account_checkbox': 'Bind Steam Account',
                'steam_login_button': 'Login with Steam Account',
                'steam_login_browser': 'Please complete Steam login authorization in browser',
                'steam_login_failed': 'Steam login failed',
                'steam_bind_success_msg': 'Steam account bound successfully',
                'email_format_error': 'Email format is incorrect',
                'email_validation_success': 'Email validation passed',
                'fill_required_fields': 'Please fill in all required fields',
                'password_min_length': 'Password length cannot be less than 6 characters',
                'complete_captcha': 'Please complete image captcha verification',
                'invalid_invite_code': 'Invalid or used invite code',
                'registration_success': 'Registration successful!',
                'registration_failed': 'Registration failed',
                
                # Login Page Additional Translations
                'welcome_to': 'Welcome to',
                'your_exclusive_game_store': 'Your Exclusive Game Store',
                'enter_username_password': 'Please enter username and password',
                'username_password_error': 'Username or password error',
                'no_account_yet': 'No account yet?',
                'register_now': 'Register Now',
                'prompt': 'Prompt',
                
                # Main Window Additional Translations
                'account_banned': 'Account Banned',
                'account_banned_msg': 'Your account has been banned, please contact administrator if you have any questions.',
                'farewell': 'Farewell',
                'confirm_exit': 'Are you sure you want to leave me? Baby',
                'confirm_button': 'Confirm',
                'cancel_button': 'Cancel',
                
                # Plugin Management Page
                'plugin_management': 'Plugin Management',
                'install_plugin': 'Install Plugin',
                'plugin_name': 'Plugin Name',
                'version': 'Version',
                'select_plugin_file': 'Select Plugin File',
                'plugin_install_success': 'Plugin installed successfully',
                'plugin_install_failed': 'Plugin installation failed',
                
                # Admin Page
                'admin_title': 'Admin Panel',
                'product_management': 'Product Management',
                'user_management': 'User Management',
                'order_management': 'Order Management',
                'add_product': 'Add Product',
                'edit_product': 'Edit Product',
                'delete_product': 'Delete Product',
                'add_admin': 'Add Admin',
                'user_type': 'User Type',
                'status': 'Status',
                'actions': 'Actions',
                
                # CSGO Server Page
                'csgo_title': 'CSGO Server Query',
                'server_name': 'Server Name',
                'server_ip': 'Server IP',
                'players': 'Players',
                'map': 'Map',
                'ping': 'Ping',
                'refresh': 'Refresh',
                'connect': 'Connect',
                'csgo_server_management': 'CSGO Server Management',
                'add_new_server': 'Add New Server',
                'server_name_placeholder': 'e.g.: My CSGO Server',
                'server_ip_placeholder': 'e.g.: 192.168.1.100 or example.com',
                'port': 'Port',
                'server_type': 'Server Type',
                'competitive_mode': 'Competitive',
                'casual_mode': 'Casual',
                'deathmatch': 'Deathmatch',
                'arms_race': 'Arms Race',
                'demolition': 'Demolition',
                'custom': 'Custom',
                'description_placeholder': 'Server description...',
                'add_server': 'Add Server',
                'a2s_server_query': 'A2S Server Query',
                'a2s_query_info': 'Use A2S protocol to query real-time server status',
                'server_address': 'Server Address',
                'server_address_placeholder': 'e.g.: 192.168.1.100:27015',
                'query': 'Query',
                'clear_results': 'Clear Results',
                'server_list': 'Server List',
                'no_server_info': 'No server information\n\nAdd servers or query A2S servers to view details',
                'insufficient_permissions': 'Insufficient permissions',
                'admin_only_add': 'Only administrators can add servers',
                'add_server_success': 'Server added successfully',
                'server_name_required': 'Server name cannot be empty',
                'server_ip_required': 'Server IP cannot be empty',
                'not_queried': 'Not Queried',
                'official': 'Official',
                'type': 'Type',
                'status': 'Status',
                'online': 'Online',
                'player_count': 'Players',
                'join_server': 'Join Server',
                'address': 'Address',
                'query_time': 'Query Time',
                'invalid_server_ip': 'Invalid server IP address',
                'steam_connect_confirm': 'About to open CSGO through Steam and connect to',
                'unknown_server': 'Unknown Server',
                'confirm_continue': 'Continue?',
                'steam_connect_sent': 'Connection request sent to Steam\nPlease ensure Steam and CSGO are installed',
                'steam_connect_failed': 'Unable to open Steam connection',
                'join_server_error': 'Error occurred while joining server',
                'cannot_delete': 'Cannot Delete',
                'admin_only_delete': 'Only administrators can delete servers',
                'confirm_delete': 'Confirm Delete',
                'confirm_delete_server': 'Are you sure you want to delete server',
                'enter_server_address': 'Please enter server address',
                'invalid_address_format': 'Invalid server address format\nCorrect format: IP:Port (e.g.: 192.168.1.100:27015)',
                'query_success': 'Query Success',
                'server_query_complete': 'Server query completed',
                'max_players': 'Max Players',
                'ip_address': 'IP Address',
                'game': 'Game',
                'version': 'Version',
                'protocol': 'Protocol',
                'player_list': 'Player List',
                'query_failed': 'Query Failed',
                'server_query_failed': 'Server query failed',
                'confirm_clear': 'Confirm Clear',
                'confirm_clear_results': 'Are you sure you want to clear all query results?',
                'clear_complete': 'Clear Complete',
                'results_cleared': 'Query results cleared',
                
                # Common Buttons and Messages
                'save': 'Save',
                'cancel': 'Cancel',
                'confirm': 'Confirm',
                'delete': 'Delete',
                'edit': 'Edit',
                'add': 'Add',
                'back': 'Back',
                'next': 'Next',
                'previous': 'Previous',
                'close': 'Close',
                'ok': 'OK',
                'yes': 'Yes',
                'no': 'No',
                
                # Message Prompts
                'success': 'Success',
                'error': 'Error',
                'warning': 'Warning',
                'info': 'Information',
                'login_success': 'Login Successful',
                'login_failed': 'Login Failed',
                'register_success': 'Registration Successful',
                'register_failed': 'Registration Failed',
                'operation_success': 'Operation Successful',
                'operation_failed': 'Operation Failed',
                'please_login': 'Please Login First',
                'no_permission': 'No Permission',
                'invalid_input': 'Invalid Input',
                'network_error': 'Network Error',
                'server_error': 'Server Error',
            }
        }
    
    def get_text(self, key):
        """è·å–å½“å‰è¯­è¨€çš„æ–‡æœ¬"""
        return self.translations.get(self.current_language, {}).get(key, key)
    
    def set_language(self, language):
        """è®¾ç½®å½“å‰è¯­è¨€"""
        if language in self.translations:
            self.current_language = language
            return True
        return False
    
    def get_current_language(self):
        """è·å–å½“å‰è¯­è¨€"""
        return self.current_language
    
    def toggle_language(self):
        """åˆ‡æ¢è¯­è¨€"""
        if self.current_language == 'zh':
            self.current_language = 'en'
        else:
            self.current_language = 'zh'
        return self.current_language
    
    def get_available_languages(self):
        """è·å–å¯ç”¨è¯­è¨€åˆ—è¡¨"""
        return list(self.translations.keys())

# å…¨å±€è¯­è¨€ç®¡ç†å™¨å®ä¾‹
language_manager = LanguageManager()